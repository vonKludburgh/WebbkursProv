@page
@model IndexModel
@{
    ViewData["Title"] = "Home page";
}

<partial name="_CookieConsentPartial">

    @if (!String.IsNullOrEmpty(Model.SelectedArticle.Header))
    {
        @if (!String.IsNullOrEmpty(Model.CookieValue))
        {
            <div> Hello @Model.CookieValue !</div>
        }

        <div>
            <h3>Article Text</h3><br />
                                 <form method="post" enctype="multipart/form-data">
                                     <input asp-for="@Model.SelectedArticle.Header" value="@Model.SelectedArticle.Header" /><br />
                                     <textarea asp-for="@Model.SelectedArticle.Paragraph" value="@Model.SelectedArticle.Paragraph" id="mytextarea"></textarea><br />
                                     <input asp-for="@Model.SelectedArticle.Id" value="@Model.SelectedArticle.Id" hidden />
                                     <input asp-for="@Model.SelectedArticle.PageId" value="@Model.SelectedArticle.PageId" hidden />
                                     <input asp-for="@Model.SelectedArticle.TimeStamp" value="@Model.SelectedArticle.TimeStamp" hidden />
                                     Article Order: <input asp-for="@Model.SelectedArticle.Order" value="@Model.SelectedArticle.Order" /><br />
                                     Published: <input asp-for="@Model.SelectedArticle.Published" /><br />
                                     <br />
                                     <h3>Styling</h3>
                                     <div>
                                         <select asp-for="@Model.SelectedArticle.HeaderFont">
                                             <option value="">Select your Header Font</option>
                                             <option value="Tahoma">Tahoma</option>
                                             <option value="Times New Roman">Times New Roman</option>
                                             <option value="Arial">Arial</option>
                                         </select>
                                     </div>
                                     <div>
                                         <select asp-for="@Model.SelectedArticle.BorderType">
                                             <option value="">Select border type</option>
                                             <option value="">Full</option>
                                             <option value="Dotted">Dotted</option>
                                             <option value="Dashed">Dashed</option>
                                         </select>
                                     </div>
                                     <div>
                                         Border color:
                                         <input type="color" onchange="changeColor(this.value)" value="@Model.SelectedArticle.BorderColor" asp-for="@Model.SelectedArticle.BorderColor"/>
                                     </div>
                                     <div>
                                         Background color:
                                         <input type="color" onchange="changeColor(this.value)" value="@Model.SelectedArticle.BgColor" asp-for="@Model.SelectedArticle.BgColor"/>
                                     </div>
                                     <div>
                                         Background image:
                                         
                                         <input type="file" id="file1" name="file1" asp-for="@Model.SelectedArticle.ImgDataBack" value="SelectedArticle.ImgDataBack">
                                     </div>
                                     <div>
                                         <select asp-for="@Model.SelectedArticle.LinkType" value="@Model.SelectedArticle.LinkType">
                                             <option value="">linktype</option>
                                             <option value="btn btn-primary">button</option>
                                             <option value="btn btn-danger">button2</option>
                                         </select>
                                     </div>
                                     <div>
                                         Image bool: <input asp-for="SelectedArticle.ImgBool"/>
                                     </div>
                                     <div>
                                         img width:
                                         <select asp-for="@Model.SelectedArticle.ImgWidth" value="@Model.SelectedArticle.ImgWidth">
                                             <option value="25">25</option>
                                             <option value="50">50</option>
                                             <option value="75">75</option>
                                             <option value="100">100</option>
                                         </select>

                                     </div><br />
                                     <button type="submit" asp-page-handler="EditArticle">Edit</button><br />
                                 </form>
            <hr />
        </div>
        <div class="row">
            <div class="text-center">
                <h3>Add Image</h3>
                <form method="post" enctype="multipart/form-data">
                    <input asp-for="@Model.ArticleImageID" value="@Model.SelectedArticle.Id" hidden /><br />
                    <span id="b">
                        <input type="file" id="file1" name="file1" />
                    </span><br />
                    <span>
                        <button type="submit" class="btn btn-success" asp-page-handler="PostImage">Ladda upp fil</button>
                    </span>
                </form>
            </div>
            <div>
                <h3>Add Link</h3>
                <form method="post">
                    <input asp-for="@Model.createdLink.ArticleId" value="@Model.SelectedArticle.Id" hidden />
                    LinkAddress: <input asp-for="@Model.createdLink.LinkString" /><br />
                    Video/Plugin: <input asp-for="@Model.createdLink.Video" /><br />
                    <button type="submit" asp-page-handler="AddLink">Add Link</button>
                </form>
            </div>
        </div>
        <hr />         
        <div>
            <br /><hr /><br />
            <h3>Attached Files and Images</h3>
            @foreach (var x in Model.Articles)
            {
                if (x.Id == Model.SelectedArticle.Id)
                {
                    <div class="row">
                        @foreach (var y in Model.imgList)
                        {
                            @if (y.ArticleID == x.Id)
                            {
                                <div>
                                    <form method="post">
                                        <input asp-for="DeleteImageID" value="@y.imgID" hidden />
                                        <img src="@y.Data" />
                                        <div class="text-center">
                                            <button type="submit" asp-page-handler="DeleteImage">Delete</button>
                                        </div>

                                    </form>
                                </div>
                            }
                        }
                    </div>
                    <br />
                    <div class="row">
                        @foreach (var y in Model.pdfList)
                        {
                            @if (y.ArticleID == x.Id)
                            {
                                <div>
                                    <form method="post">
                                        <input asp-for="DeleteImageID" value="@y.ID" hidden />
                                        <img src="https://clipartart.com/images/document-clipart-icon-5.jpg" width="30" height="30" /><br /> @y.Title<br />
                                        <button type="submit" asp-page-handler="DeleteImage">Delete</button>
                                    </form>
                                </div>
                            }
                        }
                    </div>
                    
                }
            }
        </div>
        <div class="border">
            <br /><hr /><br />
            <h3>Attached Links</h3>
            <div class="row">


                @foreach (var x in Model.Articles)
                {
                    if (x.Id == Model.SelectedArticle.Id)
                    {

                        @foreach (var y in Model.LinkList)
                        {
                            <br />
                            if (y.ArticleId == x.Id)
                            {
                                if (y.Video)
                                {
                                    <form method="post">
                                        <input asp-for="DeleteLinkID" value="@y.Id" hidden />
                                        <iframe width="370" height="210" src="@y.LinkString" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe><br />
                                        <button type="submit" asp-page-handler="DeleteLink">Delete Link</button><br /><br />
                                    </form>
                                }
                                else
                                {
                                    <form method="post">
                                        <input asp-for="DeleteLinkID" value="@y.Id" hidden />
                                        <a href="@y.LinkString">@y.LinkString</a><br />
                                        <button type="submit" asp-page-handler="DeleteLink">Delete Link</button><br /><br />
                                    </form>
                                }
                            }
                        }

                    }
                }
            </div>
        </div>
        <hr />
    }
    else
    {
        @if (Model.isAdmin)
        {
            <div class="text-center border">
                <div>Create Page</div>
                <div>
                    <form method="post">
                        <input type="text" asp-for="@Model.newCreatedPage.Title" placeholder="new page name" />
                        <button type="submit" asp-page-handler="NewPage">create new page</button>
                    </form>
                </div>
            </div>
            <hr />
            <div class="row">
                @if (Model.CurrentPage != null)
                {
                    <div class="border">
                        <h3>Alter Page Info</h3>
                        <form method="post">
                            <input type="hidden" asp-for="@Model.CurrentPage.Id" value="@Model.CurrentPage.Id" />
                            Page name: <input asp-for="@Model.CurrentPage.Title" value="@Model.CurrentPage.Title" /><br />
                            Header Location: <input asp-for="CurrentPage.Header" /> <br>
                            Right Bar: <input asp-for="CurrentPage.Right" /> <br>
                            Footer: <input asp-for="@Model.CurrentPage.Footer" /> <br />
                            PageOrder: <input asp-for="@Model.CurrentPage.Order" value="@Model.CurrentPage.Order" /><br />
                            <input type="hidden" asp-for="@Model.CurrentPage.TimeStamp" value="@Model.CurrentPage.TimeStamp" />
                            Footer Text: <input asp-for="@Model.CurrentPage.FooterString" value="@Model.CurrentPage.FooterString" /><br />

                            <input value="@Model.CurrentPage.FontMain" asp-for="@Model.CurrentPage.FontMain" hidden>
                            <input value="@Model.CurrentPage.BgColor" asp-for="@Model.CurrentPage.BgColor" hidden />
                            <input asp-for="@Model.CurrentPage.BorderColor" value="@Model.CurrentPage.BorderColor" hidden />
                            <input asp-for="@Model.CurrentPage.BorderType" value="@Model.CurrentPage.BorderType" hidden />
                            <input asp-for="@Model.CurrentPage.ImgData" value="@Model.CurrentPage.ImgData" hidden />
                            <input asp-for="CurrentPage.ImgBool" hidden />

                            <input value="@Model.CurrentPage.FontHeader" asp-for="@Model.CurrentPage.FontHeader" hidden />
                            <input value="@Model.CurrentPage.ColorHeader" asp-for="@Model.CurrentPage.ColorHeader" hidden />
                            <input asp-for="@Model.CurrentPage.BorderColorHeader" value="@Model.CurrentPage.BorderColorHeader" hidden />
                            <input asp-for="@Model.CurrentPage.BorderTypeHeader" value="@Model.CurrentPage.BorderTypeHeader" hidden />
                            <input asp-for="@Model.CurrentPage.ImgDataHeader" value="@Model.CurrentPage.ImgDataHeader" hidden />
                            <input asp-for="CurrentPage.ImgBoolHeader" hidden />

                            <input value="@Model.CurrentPage.FontLeftbar" asp-for="@Model.CurrentPage.FontLeftbar" hidden />
                            <input value="@Model.CurrentPage.ColorLeftbar" asp-for="@Model.CurrentPage.ColorLeftbar" hidden />
                            <input asp-for="@Model.CurrentPage.BorderColorLeftbar" value="@Model.CurrentPage.BorderColorLeftbar" hidden />
                            <input asp-for="@Model.CurrentPage.BorderTypeLeftbar" value="@Model.CurrentPage.BorderTypeLeftbar" hidden />
                            <input asp-for="@Model.CurrentPage.ImgDataLeftbar" value="@Model.CurrentPage.ImgDataLeftbar" hidden />
                            <input asp-for="CurrentPage.ImgBoolLeftbar" hidden />

                            <input value="@Model.CurrentPage.ColorRightbar" asp-for="@Model.CurrentPage.ColorRightbar" hidden />
                            <input asp-for="@Model.CurrentPage.BorderColorRightbar" value="@Model.CurrentPage.BorderColorRightbar" hidden />
                            <input asp-for="@Model.CurrentPage.BorderTypeRightbar" value="@Model.CurrentPage.BorderTypeRightbar" hidden />
                            <input asp-for="@Model.CurrentPage.ImgDataRightbar" value="@Model.CurrentPage.ImgDataRightbar" hidden />
                            <input asp-for="CurrentPage.ImgBoolRightbar" hidden />

                            <input value="@Model.CurrentPage.FontFooter" asp-for="@Model.CurrentPage.FontFooter" hidden />
                            <input asp-for="@Model.CurrentPage.ColorFooter" value="@Model.CurrentPage.ColorFooter" hidden />
                            <input asp-for="@Model.CurrentPage.BorderColorFooter" value="@Model.CurrentPage.BorderColorFooter" hidden />
                            <input asp-for="@Model.CurrentPage.BorderTypeFooter" value="@Model.CurrentPage.BorderTypeFooter" hidden />

                            <button type="submit" asp-page-handler="EditPage">Edit Page Info</button>
                        </form>
                    </div>
                    <div class="border">
                        <h3>Page Styling</h3>
                        <form method="post">
                            <input type="hidden" asp-for="@Model.CurrentPage.Id" value="@Model.CurrentPage.Id" />
                            <input asp-for="@Model.CurrentPage.Title" value="@Model.CurrentPage.Title" hidden />
                            <input asp-for="CurrentPage.Header" hidden />
                            <input asp-for="CurrentPage.Right" hidden />
                            <input asp-for="@Model.CurrentPage.Footer" hidden />
                            <input asp-for="@Model.CurrentPage.Order" value="@Model.CurrentPage.Order" hidden />
                            <input type="hidden" asp-for="@Model.CurrentPage.TimeStamp" value="@Model.CurrentPage.TimeStamp" hidden />
                            <input asp-for="@Model.CurrentPage.FooterString" value="@Model.CurrentPage.FooterString" hidden />
                            Header:<br />
                            <div>
                                <select value="@Model.CurrentPage.FontHeader" asp-for="@Model.CurrentPage.FontHeader">
                                    <option value="">Header Font</option>
                                    <option value="Tahoma">Tahoma</option>
                                    <option value="Arial">Arial</option>
                                    <option value="Times New Roman">Times New Roman</option>
                                    <option value="Comic Sans MS">Comic Sans MS</option>
                                </select>
                            </div>
                            <div>
                                Header bar color<input type="color" value="@Model.CurrentPage.ColorHeader" asp-for="@Model.CurrentPage.ColorHeader" />
                            </div>
                            <div>
                                Header border color<input type="color" asp-for="@Model.CurrentPage.BorderColorHeader" value="@Model.CurrentPage.BorderColorHeader" />
                            </div>
                            <div>
                                Header border type
                                <select asp-for="@Model.CurrentPage.BorderTypeHeader">
                                    <option value="">None</option>
                                    <option value="Solid">Solid</option>
                                    <option value="Dotted">Dotted</option>
                                    <option value="Dashed">Dashed</option>
                                </select>
                            </div>
                            <div>
                                Upload HeaderImage: <input asp-for="@Model.UploadHeader" />
                            </div>
                            <div>
                                Image/Color<input asp-for="CurrentPage.ImgBoolHeader" />
                            </div>
                            <br />
                            Leftbar:
                            <div>
                                <select value="@Model.CurrentPage.FontLeftbar" asp-for="@Model.CurrentPage.FontLeftbar">
                                    <option value="">Font</option>
                                    <option value="Tahoma">Tahoma</option>
                                    <option value="Arial">Arial</option>
                                    <option value="Times New Roman">Times New Roman</option>
                                    <option value="Comic Sans MS">Comic Sans MS</option>
                                </select>
                            </div>
                            <div>
                                Left bar color<input type="color" asp-for="@Model.CurrentPage.ColorLeftbar" value="@Model.CurrentPage.ColorLeftbar" />
                            </div>
                            <div>
                                Left border color<input type="color" asp-for="@Model.CurrentPage.BorderColorLeftbar" value="@Model.CurrentPage.BorderColorLeftbar" />
                            </div>
                            <div>
                                Left border type
                                <select asp-for="@Model.CurrentPage.BorderTypeLeftbar" value="@Model.CurrentPage.BorderTypeLeftbar">
                                    <option value="">Border type</option>
                                    <option value="Dotted">Dotted</option>
                                </select>
                            </div>
                            <div>
                                @*Upload LeftImage: <input type="file" asp-for="@Model.CurrentPage.ImgDataLeftbar" value="@Model.CurrentPage.ImgDataLeftbar" />*@
                            </div>
                            <div>
                                Image/Color<input asp-for="CurrentPage.ImgBoolLeftbar" />
                            </div>
                            <br />
                            Main:<br />
                            <div>
                                Main color<input type="color" asp-for="@Model.CurrentPage.BgColor" value="@Model.CurrentPage.BgColor" />
                            </div>
                            <div>
                                Main border color<input type="color" asp-for="@Model.CurrentPage.BorderColor" value="@Model.CurrentPage.BorderColor" />
                            </div>
                            <div>
                                Main border type
                                <select asp-for="@Model.CurrentPage.BorderType" value="@Model.CurrentPage.BorderType">
                                    <option>None</option>
                                    <option value="Dotted">Dotted</option>
                                </select>
                            </div>
                            <div>
                                @*Upload MainImage: <input type="file" asp-for="@Model.CurrentPage.ImgData" value="@Model.CurrentPage.ImgData" />*@
                            </div>
                            <div>
                                Image/Color<input asp-for="CurrentPage.ImgBool" />
                            </div>
                            <br />
                            Right:<br />
                            <div>
                                Right color<input type="color" asp-for="@Model.CurrentPage.ColorRightbar" value="@Model.CurrentPage.ColorRightbar" />
                            </div>
                            <div>
                                Right border color<input type="color" asp-for="@Model.CurrentPage.BorderColorRightbar" value="@Model.CurrentPage.BorderColorRightbar" />
                            </div>
                            <div>
                                Right border type
                                <select asp-for="@Model.CurrentPage.BorderTypeRightbar" value="@Model.CurrentPage.BorderTypeRightbar">
                                    <option value="">None</option>
                                    <option value="Dotted">Dotted</option>
                                </select>
                            </div>
                            <div>
                                @*Upload RightImage: <input type="file" asp-for="@Model.CurrentPage.ImgDataRightbar" value="@Model.CurrentPage.ImgDataRightbar" />*@
                            </div>
                            <div>
                                Image/Color<input asp-for="CurrentPage.ImgBoolRightbar" />
                            </div>
                            <br />
                            <div>
                                Footer:
                                <select asp-for="@Model.CurrentPage.FontFooter" value="@Model.CurrentPage.FontFooter">
                                    <option value="">Font</option>
                                    <option value="Tahoma">Tahoma</option>
                                    <option value="Comic Sans MS">Comic Sans MS</option>
                                </select><br />
                                Footer Color: <input type="color" asp-for="@Model.CurrentPage.ColorFooter" value="@Model.CurrentPage.ColorFooter" /><br />
                                Footer Border: 
                                <select asp-for="@Model.CurrentPage.BorderTypeFooter" value="@Model.CurrentPage.BorderTypeFooter">
                                    <option>select border type</option>
                                    <option value="Solid">Solid</option>
                                    <option value="Dotted">Dotted</option>
                                </select><br />
                                Footer Border Color: <input type="color" asp-for="@Model.CurrentPage.BorderColorFooter"/><br />
                            </div>
                            <button type="submit" asp-page-handler="EditPage">Submit style</button>
                            <br />
                        </form>                        
                    </div>
                    <div>
                        <div>
                            <form method="post">
                                Rightbar Article:<br />
                                <input asp-for="@Model.newOtherArticle.PageId" value="@Model.CurrentPage.Id" hidden />
                                Link Address: <input asp-for="@Model.newOtherArticle.Link" placeholder="link" /><br />
                                Image URL: <input asp-for="@Model.newOtherArticle.ImgLink" placeholder="image url" /><br />
                                Text: <input asp-for="@Model.newOtherArticle.Text" placeholder="text" />
                                <button type="submit" asp-page-handler="NewOtherArticle">Save Text</button>
                            </form>
                        </div>
                        <br />
                        <br />
                        <br />
                        <div class="border">
                            <h3>Delete Page</h3>
                            <form method="post">
                                <input type="text" asp-for="@Model.PageDeleteID" value="@Model.SelectedPage" hidden />
                                <button type="submit" asp-page-handler="DeletePage">Delete Page</button>
                            </form>
                        </div>
                        <div>
                            @foreach (var x in Model.OtherArticleList)
                            {
                            <div>
                                <form method="post">
                                    <input asp-for="OaDeleteID" value="@x.Id" hidden />
                                    <img src="@x.ImgLink" width="200" height="200"/>
                                    <div>@x.Text</div>
                                    <button type="submit" asp-page-handler="DeleteOA">Delete</button>
                                </form>
                            </div>
                            }
                        </div>
                    </div>
                }
            </div>
        }
        @if (Model.isSkribent || Model.isAdmin)
        {
            <hr />
            <div class="text-center">Create Article</div>
            <div class="text-center">
                <form method="post">
                    <input type="text" asp-for="@Model.NewArticle.PageId" value="@Model.CurrentPage.Id" hidden />
                    <input type="text" asp-for="@Model.NewArticle.Header" placeholder="header" /><br />
                    <input type="text" asp-for="@Model.NewArticle.Paragraph" placeholder="paragraph" /><br />
                    <button type="submit" asp-page-handler="NewArticle">Create Article</button><br />
                </form>
                <hr />
            </div>
            <br />
            <hr />
        }

        @if (Model.CurrentPage != null)
        {
            @if (Model.CurrentPage.Header)
            {
                <span class="row headerColor headerBorderType headerBorderColor">
                    @foreach (var x in Model.cPages)
                    {
                        <a href="?SelectedPage=@x.Title"> @x.Title </a>
                    }
                    <a class="nav-link text-dark" asp-area="" asp-page="/VårIntegritetsPolicy">Integritets Policy</a>
                    <partial name="_LoginPartial" />
                    <span id="counter"></span>
                    <!-- hitwebcounter Code START -->
                    <a href="https://www.hitwebcounter.com" target="_blank">
                        <img src="https://hitwebcounter.com/counter/counter.php?page=7818844&style=0003&nbdigits=5&type=page&initCount=0" title="Free Counter" Alt="web counter" border="0" />
                    </a>

                </span>
            }

        }


        <div class="row">
            @if (Model.CurrentPage != null)
            {
                @if (Model.CurrentPage.Header == false)
                {

                    <div class="col-3 leftColor leftBorderColor leftBorderType">
                        <ul>
                            @foreach (var x in Model.cPages)
                            {
                                <li><a href="?SelectedPage=@x.Title"><Font face="@Model.CurrentPage.FontLeftbar">@x.Title </Font></a></li>
                            }
                            <li><a class="nav-link text-dark" asp-area="" asp-page="/VårIntegritetsPolicy"><Font face="@Model.CurrentPage.FontLeftbar">Integritets Policy</Font></a></li>
                            <li><partial name="_LoginPartial" /></li>
                            <li id="counter"></li>
                            <li>
                                <!-- hitwebcounter Code START -->
                                <a href="https://www.hitwebcounter.com" target="_blank">
                                    <img src="https://hitwebcounter.com/counter/counter.php?page=7818844&style=0003&nbdigits=5&type=page&initCount=0" title="Free Counter" Alt="web counter" border="0" />
                                </a>
                            </li>
                            <li>
                                <!-- hitwebcounter Code START -->
                                <a href="https://www.hitwebcounter.com" target="_blank">
                                    <img src="https://hitwebcounter.com/counter/counter.php?page=7818845&style=0006&nbdigits=5&type=ip&initCount=0" title="Free Counter" Alt="web counter" border="0" />
                                </a>

                            </li>
                        </ul>
                    </div>

                }
            }


        <div class="mainColor mainBorder mainBorderColor col-lg">
            <br />
            <br />
            @if (Model.CurrentPage != null)
            {
                <h1>@Model.CurrentPage.Title</h1><br />
            }

            @foreach (var x in Model.Articles)
            {
                <style>
                        .articleColor {
                            background-color: @x.BgColor;
                        }
                        .articleBorderColor {
                            border-color: @x.BorderColor;
                        }
                        .articleBorderType {
                            border-style: @x.BorderType;
                        }
                </style>

                @if (Model.isSkribent || Model.isAdmin || x.Published)
                {
                    @if (x.ImgBool)
                    {
                        foreach (var y in Model.oaImageClassList)
                        {
                            if (y.ArticleID == x.Id)
                            {
                                if (!String.IsNullOrEmpty(y.Data))
                                {
                                    <div style="background-image: url('@y.Data'); background-color: @x.BgColor; border-color: @x.BorderColor; border-style: @x.BorderType;">
                                        <h3>@x.Header</h3>
                                        @Html.Raw(x.Paragraph)
                                    </div>
                                }
                                else
                                {
                                    <div style="background-color: @x.BgColor; border-color: @x.BorderColor; border-style: @x.BorderType;">
                                        <h3>@x.Header</h3>
                                        @Html.Raw(x.Paragraph)
                                    </div>
                                }

                            }
                        }
                    }
                    else
                    {
                        if (x.PageId == Model.CurrentPage.Id)
                        {
                            <div style="background-color: @x.BgColor; border-color: @x.BorderColor; border-style: @x.BorderType;">
                                <h3>@x.Header</h3>
                                @Html.Raw(x.Paragraph)
                            </div>
                        }
                    }


                    <br />
                    <div id="carouselExampleSlidesOnly" class="carousel slide" data-interval="1500" data-ride="carousel">
                        <div class="carousel-inner w-@x.ImgWidth">

                            @foreach (var y in Model.imgList)
                            {
                                @if (y.ArticleID == x.Id)
                                {
                                    @if (y.First)
                                    {
                                        <div class="carousel-item active w-20">
                                            <img src="@y.Data" class="w-50" alt="...">
                                        </div>
                                    }
                                    else
                                    {
                                        <div class="carousel-item ">
                                            <img src="@y.Data" class="w-50" alt="...">
                                        </div>
                                    }
                                }
                            }

                        </div>
                    </div>
                    <br />
                    <div>
                        @foreach (var y in Model.LinkList)
                        {
                            @if (y.ArticleId == x.Id)
                            {
                                @if (y.Video)
                                {
                                    <br /><iframe width="370" height="210" src="@y.LinkString" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe><br />
                                }
                                else
                                {                                    
                                    <a class="@x.LinkType" href="@y.LinkString">@y.LinkString</a><br />
                                }
                            }
                        }

                        @foreach (var y in Model.apiClassList)
                        {
                            if (y.ArticleID == x.Id)
                            {
                                @foreach (var z in y.ApiStringList)
                                {
                                    <div>@z</div>
                                }
                                <img src="@y.imgString" width="200" />
                            }
                        }
                    </div>
                    <br />
                    <div>
                        @if (Model.pdfList != null)
                        {
                            <h6>Bifogade dokument</h6>
                            @foreach (var y in Model.pdfList)
                            {
                                @if (y.ArticleID == x.Id)
                                {
                                    <form method="post">
                                        <input asp-for="@Model.pdfID" value="@y.ID" hidden />
                                        @y.Title <button asp-page-handler="DownloadDoc" type="submit">Ladda ned dokument</button>
                                    </form>
                                }
                            }
                        }

                    </div>
                    @if (Model.isSkribent || Model.isAdmin)
                    {
                        <br />
                        <div>
                            <a href="?ArticleID=@x.Id">select article</a>
                        </div>
                        <br />
                    }
                }
            }

            <!--Höger Kolumn-->
        </div>
            @if (Model.CurrentPage != null && Model.CurrentPage.Right)
            {
                <div class="col-3 rightBorderColor rightBorderType rightColor">
                    @foreach (var x in Model.OtherArticleList)
                    {
                        <div class="container border btn-danger rounded-bottom">
                            <a href="@x.Link"><img style="width:100%" src="@x.ImgLink" /></a>
                            @x.Text
                        </div>
                    }
                </div>
            }
        </div>
        <!--Footer-->
        @if (Model.CurrentPage != null)
        {
            @if (Model.CurrentPage.Footer)
            {
                <div class="row" style="background-color: @Model.CurrentPage.ColorFooter; border-color: @Model.CurrentPage.BorderColorFooter; border-style: @Model.CurrentPage.BorderTypeFooter">
                    <Font face="@Model.CurrentPage.FontFooter">@Model.CurrentPage.FooterString</Font>
                </div>
            }
        }

    }

    
    <div>@Model.CurrentPage.Title</div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdn.tiny.cloud/1/no-api-key/tinymce/5/tinymce.min.js" referrerpolicy="origin"></script>
    <script src=""></script>
    <script>
        tinymce.init({
            selector: '#mytextarea',
            width: 600,
            height: 300,
            plugins: [
                'advlist autolink link image lists charmap print preview hr anchor pagebreak',
                'searchreplace wordcount visualblocks visualchars code fullscreen insertdatetime media nonbreaking',
                'table emoticons template paste help'
            ],
            toolbar: 'undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | ' +
                'bullist numlist outdent indent | link image | print preview media fullpage | ' +
                'forecolor backcolor emoticons | help',
            menu: {
                favs: { title: 'My Favorites', items: 'code visualaid | searchreplace | emoticons' }
            },
            menubar: 'favs file edit view insert format tools table help',
            content_css: 'css/content.css'
        });
    </script>
    <script>
        updateCounter();
        function updateCounter() {
            let counter = document.getElementById("counter");
            fetch('https://api.countapi.xyz/update/maxsite/maxchannel/?amount=1')
                .then(res => res.json())
                .then(data => counter.innerHTML = data.value)
        }
    </script>

    <style>

        .mainBorder {
            border-style: @Model.CurrentPage.BorderType;
        }
        .mainBorderColor{
            border-color: @Model.CurrentPage.BorderColor;
        }

        .headerBorderColor{
            border-color: @Model.CurrentPage.BorderColor;
        }
        .headerBorderType{
            border-style: @Model.CurrentPage.BorderTypeHeader;
        }

        .leftBorderColor{
            border-color: @Model.CurrentPage.BorderColorLeftbar;
        }
        .leftBorderType{
            border-style: @Model.CurrentPage.BorderTypeLeftbar;
        }

        .rightBorderColor{
            border-color: @Model.CurrentPage.BorderColorRightbar;
        }
        .rightBorderType{
            border-style: @Model.CurrentPage.BorderTypeRightbar;
        }
    </style>

    @if (Model.CurrentPage.ImgBool)
    {
<style>
.mainColor { background-image: url("https://i.pinimg.com/originals/c6/18/d1/c618d1f758386b32691dcc290498ab0a.jpg"); 
             background-color: @Model.CurrentPage.BgColor; }
</style>
    }
    else
    {
        <style>
               .mainColor {
                   background-color: @Model.CurrentPage.BgColor;
               }
        </style>
    }
    @if (Model.CurrentPage.ImgBoolHeader)
    {
<style>
.headerColor { background-image: url("https://i.pinimg.com/originals/c6/18/d1/c618d1f758386b32691dcc290498ab0a.jpg"); background-color: @Model.CurrentPage.ColorHeader; }
</style>
    }
    else
    {
        <style>
                .headerColor{
                    background-color: @Model.CurrentPage.ColorHeader;
                }
        </style>
    }
    @if (Model.CurrentPage.ImgBoolLeftbar)
    {
<style>
.leftColor { background-image: url("https://i.pinimg.com/originals/c6/18/d1/c618d1f758386b32691dcc290498ab0a.jpg"); 
             background-color: @Model.CurrentPage.ColorLeftbar; }
</style>
    }
    else
    {
        <style>
                .leftColor{
                    background-color: @Model.CurrentPage.ColorLeftbar;
                }
        </style>
    }
    @if (Model.CurrentPage.ImgBoolRightbar)
    {
<style>
.rightColor {
    background-image: url("https://i.pinimg.com/originals/c6/18/d1/c618d1f758386b32691dcc290498ab0a.jpg");
    background-color: @Model.CurrentPage.ColorRightbar;
}
</style>
    }
    else
    {
        <style>
            .rightColor {
                background-color: @Model.CurrentPage.ColorRightbar;
            }
        </style>
    }
